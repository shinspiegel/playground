[gd_scene load_steps=49 format=3 uid="uid://ceqphrxd7newn"]

[ext_resource type="PackedScene" uid="uid://blydrbv15xonn" path="res://maps/level_map.tscn" id="1_l0do0"]
[ext_resource type="Script" path="res://maps/jakub_apartment.gd" id="2_io7gp"]
[ext_resource type="PackedScene" uid="uid://b7cbvdwellajn" path="res://scenes/static_item/items/bed.tscn" id="5_c3vta"]
[ext_resource type="PackedScene" uid="uid://7ttw1q43x2ys" path="res://scenes/static_item/items/bedside_table.tscn" id="6_nkgvo"]
[ext_resource type="PackedScene" uid="uid://dlivjs0bxtajd" path="res://scenes/static_item/items/wardrobe.tscn" id="7_fckoh"]
[ext_resource type="PackedScene" uid="uid://cklplhs1wkpt4" path="res://scenes/static_item/items/clock.tscn" id="8_8bp36"]
[ext_resource type="PackedScene" uid="uid://dvulqop733i80" path="res://scenes/static_item/items/table.tscn" id="9_16bae"]
[ext_resource type="PackedScene" uid="uid://f8bmwofxscau" path="res://scenes/static_item/items/chair.tscn" id="9_gx6p0"]
[ext_resource type="PackedScene" uid="uid://bd0qn8u5sptdl" path="res://scenes/static_item/items/box.tscn" id="9_nausv"]
[ext_resource type="PackedScene" uid="uid://dphobpwxhsy75" path="res://scenes/static_item/items/fridge.tscn" id="10_sg36p"]
[ext_resource type="PackedScene" uid="uid://dq3y1i2y72rcs" path="res://scenes/interactables/interactable/interactable.tscn" id="10_xo0yv"]
[ext_resource type="PackedScene" uid="uid://ci37fj6pv5hy6" path="res://scenes/static_item/items/kitchen_counter.tscn" id="11_0wkas"]
[ext_resource type="PackedScene" uid="uid://ckdb7yqknt62d" path="res://scenes/static_item/items/phone.tscn" id="12_lv5b5"]
[ext_resource type="PackedScene" uid="uid://dlxdca6nheyls" path="res://scenes/static_item/items/sofa.tscn" id="14_1r6fq"]
[ext_resource type="PackedScene" uid="uid://b1b67slj1nu5x" path="res://scenes/static_item/items/tv_hack.tscn" id="15_dqchd"]
[ext_resource type="PackedScene" uid="uid://c72bcgkvlqjfo" path="res://scenes/static_item/items/tv.tscn" id="16_pa6bl"]
[ext_resource type="Shader" path="res://scenes/interactables/outlined_sprite/outlined_sprite.gdshader" id="17_myhdx"]
[ext_resource type="PackedScene" uid="uid://x0r1rdho5vqu" path="res://scenes/static_item/items/door.tscn" id="18_g5r67"]
[ext_resource type="PackedScene" uid="uid://03yy01jl71jn" path="res://scenes/cut_scene/cut_scene.tscn" id="18_kwm3y"]
[ext_resource type="Script" path="res://scenes/cut_scene/cut_scene_data/cut_scene_data.gd" id="19_e6r1y"]
[ext_resource type="PackedScene" uid="uid://b1o5ghi3hqt5s" path="res://scenes/scene_changer/scene_changer.tscn" id="20_6yk8r"]
[ext_resource type="Script" path="res://scenes/cut_scene/steps/step_party_anim.gd" id="21_ew3yv"]
[ext_resource type="Script" path="res://scenes/cut_scene/steps/step_wait.gd" id="22_hgvnt"]
[ext_resource type="Script" path="res://scenes/cut_scene/steps/step_move.gd" id="23_64kbr"]
[ext_resource type="Script" path="res://scenes/cut_scene/steps/step_bubble.gd" id="23_nve0r"]
[ext_resource type="Script" path="res://scenes/cut_scene/steps/step_talk.gd" id="26_oyy11"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sfb1l"]
size = Vector2(320, 154.5)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5w3ow"]
resource_local_to_scene = true
shader = ExtResource("17_myhdx")
shader_parameter/line_color = Color(1, 1, 1, 1)
shader_parameter/line_thickness = 0.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sstvv"]
size = Vector2(256, 256)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_nddtp"]
resource_local_to_scene = true
shader = ExtResource("17_myhdx")
shader_parameter/line_color = Color(1, 1, 1, 1)
shader_parameter/line_thickness = 0.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_b7cf4"]
size = Vector2(197, 213)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_po82d"]
size = Vector2(320, 288)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2jlbf"]
resource_local_to_scene = true
shader = ExtResource("17_myhdx")
shader_parameter/line_color = Color(1, 1, 1, 1)
shader_parameter/line_thickness = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_xu5b3"]
resource_local_to_scene = true
shader = ExtResource("17_myhdx")
shader_parameter/line_color = Color(1, 1, 1, 1)
shader_parameter/line_thickness = 0.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_uduor"]
size = Vector2(192, 320)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gmis7"]
resource_local_to_scene = true
shader = ExtResource("17_myhdx")
shader_parameter/line_color = Color(1, 1, 1, 1)
shader_parameter/line_thickness = 0.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f1j1d"]
size = Vector2(128, 362)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pelh6"]
size = Vector2(128, 80)

[sub_resource type="Resource" id="Resource_ftv2g"]
script = ExtResource("21_ew3yv")
direction = 2
anim = "idle"

[sub_resource type="Resource" id="Resource_nmbor"]
script = ExtResource("22_hgvnt")
seconds = 1.0

[sub_resource type="Resource" id="Resource_b51gh"]
script = ExtResource("23_64kbr")
direction = Vector2(2.08165e-12, 200)
duration = 1.5
animation_animate = true
animation_anim_name = "move"
index = 0
is_party = true

[sub_resource type="Resource" id="Resource_gdbie"]
script = ExtResource("22_hgvnt")
seconds = 2.0

[sub_resource type="Resource" id="Resource_v335u"]
script = ExtResource("23_nve0r")
chapter = 0
list = Array[int]([0])
delay = 0.3
rand_pos = Vector2(0, 0)
index = 0
is_party = true

[sub_resource type="Resource" id="Resource_6xleo"]
script = ExtResource("22_hgvnt")
seconds = 3.0

[sub_resource type="Resource" id="Resource_ylu6y"]
script = ExtResource("22_hgvnt")
seconds = 1.0

[sub_resource type="Resource" id="Resource_w5e0n"]
script = ExtResource("26_oyy11")
chapter = 0
messages = Array[int]([1, 2, 2])

[sub_resource type="Resource" id="Resource_nr4vs"]
script = ExtResource("22_hgvnt")
seconds = 1.0

[sub_resource type="Resource" id="Resource_dge5t"]
script = ExtResource("19_e6r1y")
steps = Array[Resource("res://scenes/cut_scene/steps/step_base.gd")]([SubResource("Resource_ftv2g"), SubResource("Resource_nmbor"), SubResource("Resource_b51gh"), SubResource("Resource_gdbie"), SubResource("Resource_v335u"), SubResource("Resource_6xleo"), SubResource("Resource_ylu6y"), SubResource("Resource_w5e0n"), SubResource("Resource_nr4vs")])

[node name="JakubApartment" node_paths=PackedStringArray("intro_cut_scene", "bubble_timer", "boxes_interactor", "sofa_interactable", "tv_interactable", "phone_interactable", "clock_interactable", "wardrobe_interactable", "door_interactable", "sorted", "pos", "game_camera") instance=ExtResource("1_l0do0")]
script = ExtResource("2_io7gp")
intro_cut_scene = NodePath("CutScenes/IntroHouse")
bubble_timer = NodePath("BubbleMessageTimer")
boxes_interactor = NodePath("Sorted/BoxesInteractable")
sofa_interactable = NodePath("Sorted/Sofa/Interactable")
tv_interactable = NodePath("Sorted/TV/Interactable")
phone_interactable = NodePath("Sorted/Phone/Interactable")
clock_interactable = NodePath("Sorted/Clock/Interactable")
wardrobe_interactable = NodePath("Sorted/Wardrobe/Interactable")
door_interactable = NodePath("Sorted/Door/Interactable")
sorted = NodePath("Sorted")
pos = NodePath("PlayerStartPos")
game_camera = NodePath("GameCamera")

[node name="BubbleMessageTimer" type="Timer" parent="." index="0"]
wait_time = 10.0
one_shot = true

[node name="GameCamera" parent="." index="1" node_paths=PackedStringArray("top_left", "bottom_right")]
top_left = NodePath("../MapLimits/TopLeft")
bottom_right = NodePath("../MapLimits/BottomRight")

[node name="BackgroundColor" parent="." index="2"]
visible = false

[node name="BottomRight" parent="MapLimits" index="1"]
position = Vector2(2752, 2112)

[node name="Map" parent="." index="4"]
layer_0/tile_data = PackedInt32Array(196617, 65536, 3, 196618, 262144, 3, 131082, 196608, 1, 65546, 196608, 1, 262157, 65536, 1, 196621, 65536, 3, 131085, 65536, 1, 65549, 65536, 1, 262156, 65536, 1, 196620, 65536, 3, 131084, 65536, 1, 65548, 65536, 1, 262155, 65536, 1, 196619, 65536, 3, 131083, 65536, 1, 65547, 65536, 1, 262154, 196608, 1, 262153, 65536, 1, 262152, 65536, 1, 196616, 65536, 3, 262151, 65536, 1, 196615, 65536, 3, 262150, 65536, 1, 196614, 65536, 3, 262149, 65536, 1, 196613, 0, 3, 262148, 65536, 1, 196612, 65536, 1, 262147, 65536, 1, 196611, 131072, 3, 262146, 65536, 1, 196610, 65536, 3, 262145, 65536, 1, 196609, 65536, 3, 327697, 65536, 1, 262161, 65536, 1, 196625, 65536, 1, 131089, 65536, 1, 65553, 65536, 1, 17, 65536, 0, 327696, 65536, 1, 262160, 65536, 1, 196624, 131072, 3, 131088, 65536, 1, 65552, 65536, 1, 16, 65536, 0, 327695, 65536, 1, 262159, 65536, 1, 196623, 65536, 3, 131087, 65536, 1, 65551, 65536, 1, 15, 65536, 0, 327694, 65536, 1, 262158, 65536, 1, 196622, 65536, 3, 131086, 65536, 1, 14, 65536, 0, 327693, 65536, 1, 13, 65536, 0, 327692, 65536, 1, 12, 65536, 0, 327691, 65536, 1, 11, 65536, 0, 327690, 196608, 2, 10, 262144, 3, 327689, 65536, 1, 327688, 65536, 1, 327687, 65536, 1, 327686, 65536, 1, 327685, 65536, 1, 327684, 65536, 1, 327683, 65536, 1, 327682, 65536, 1, 327681, 65536, 1, 327680, 0, 1, 262144, 0, 1, 196608, 0, 0, 458772, 131072, 2, 393236, 131072, 1, 327700, 131072, 1, 262164, 131072, 1, 196628, 131072, 1, 131092, 131072, 1, 65556, 131072, 1, 20, 131072, 0, 458771, 65536, 2, 393235, 65536, 1, 327699, 65536, 1, 262163, 65536, 1, 196627, 65536, 3, 131091, 65536, 1, 65555, 65536, 1, 19, 65536, 0, 458770, 65536, 2, 393234, 65536, 1, 327698, 65536, 1, 262162, 65536, 1, 196626, 0, 3, 131090, 65536, 1, 65554, 65536, 1, 18, 65536, 0, 458769, 65536, 2, 393233, 65536, 1, 458768, 65536, 2, 393232, 65536, 1, 458767, 65536, 2, 393231, 65536, 1, 458766, 65536, 2, 393230, 65536, 1, 458765, 65536, 2, 393229, 65536, 1, 458764, 65536, 2, 393228, 65536, 1, 458763, 65536, 2, 393227, 65536, 1, 458762, 65536, 2, 393226, 65536, 1, 458761, 65536, 2, 393225, 65536, 1, 458760, 65536, 2, 393224, 65536, 1, 458759, 65536, 2, 393223, 65536, 1, 458758, 65536, 2, 393222, 65536, 1, 458757, 65536, 2, 393221, 65536, 1, 458756, 65536, 2, 393220, 65536, 1, 458755, 65536, 2, 393219, 65536, 1, 458754, 65536, 2, 393218, 65536, 1, 458753, 65536, 2, 393217, 65536, 1, 458752, 0, 2, 393216, 0, 1, 65550, 65536, 1, 65544, 65536, 1, 65543, 65536, 1, 65542, 65536, 1, 65541, 65536, 1, 65540, 65536, 1, 65539, 65536, 1, 65538, 65536, 1, 65537, 65536, 1, 131073, 65536, 1, 131076, 65536, 1, 131075, 65536, 1, 131074, 65536, 1, 131072, 65536, 1, 65536, 65536, 1, 131081, 65536, 1, 65545, 65536, 1, 9, 65536, 1, 8, 65536, 1, 7, 65536, 1, 6, 65536, 1, 5, 65536, 1, 4, 65536, 1, 3, 65536, 1, 2, 65536, 1, 1, 65536, 1, 0, 65536, 1, 131071, 65536, 1, 65535, 65536, 1, -1, 65536, 1, -65536, 65536, 1, -65535, 65536, 1, -65534, 65536, 1, -65533, 65536, 1, -65532, 65536, 1, -65531, 65536, 1, -65530, 65536, 1, -65529, 65536, 1, -65528, 65536, 1, -65527, 65536, 1, 196607, 65536, 1, 131077, 65536, 1, 131078, 65536, 1, 131079, 65536, 1, 131080, 65536, 1, 262143, 65536, 2, -65526, 131072, 1)

[node name="Bed" parent="Sorted" index="0" instance=ExtResource("5_c3vta")]
position = Vector2(1600, 576)
collision_mask = 1

[node name="BedsideTable" parent="Sorted" index="1" instance=ExtResource("6_nkgvo")]
position = Vector2(1824, 384)
collision_mask = 1

[node name="Wardrobe" parent="Sorted" index="2" node_paths=PackedStringArray("interactable") instance=ExtResource("7_fckoh")]
position = Vector2(2368, 384)
collision_mask = 1
interactable = NodePath("Interactable")

[node name="Interactable" parent="Sorted/Wardrobe" index="2" instance=ExtResource("10_xo0yv")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Sorted/Wardrobe/Interactable" index="0"]
position = Vector2(0, 50.75)
shape = SubResource("RectangleShape2D_sfb1l")

[node name="Clock" parent="Sorted" index="3" node_paths=PackedStringArray("interactable") instance=ExtResource("8_8bp36")]
position = Vector2(1792, 384)
collision_mask = 1
interactable = NodePath("Interactable")

[node name="OutlinedSprite" parent="Sorted/Clock" index="0"]
material = SubResource("ShaderMaterial_5w3ow")
position = Vector2(16, -128)

[node name="CollisionShape2D" parent="Sorted/Clock" index="1"]
position = Vector2(16, -128)

[node name="Interactable" parent="Sorted/Clock" index="2" instance=ExtResource("10_xo0yv")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Sorted/Clock/Interactable" index="0"]
position = Vector2(96, 64)
shape = SubResource("RectangleShape2D_sstvv")

[node name="Table" parent="Sorted" index="4" instance=ExtResource("9_16bae")]
position = Vector2(2240, 1600)
collision_mask = 1

[node name="Chair" parent="Sorted" index="5" instance=ExtResource("9_gx6p0")]
position = Vector2(2336, 1664)
collision_mask = 1

[node name="Chair2" parent="Sorted" index="6" instance=ExtResource("9_gx6p0")]
position = Vector2(2176, 1696)
collision_mask = 1

[node name="Chair3" parent="Sorted" index="7" instance=ExtResource("9_gx6p0")]
position = Vector2(2336, 1344)
collision_mask = 1

[node name="Chair4" parent="Sorted" index="8" instance=ExtResource("9_gx6p0")]
position = Vector2(2176, 1376)
collision_mask = 1

[node name="Chair5" parent="Sorted" index="9" instance=ExtResource("9_gx6p0")]
position = Vector2(2464, 1472)
collision_mask = 1

[node name="Chair6" parent="Sorted" index="10" instance=ExtResource("9_gx6p0")]
position = Vector2(1984, 1536)
collision_mask = 1

[node name="Fridge" parent="Sorted" index="11" instance=ExtResource("10_sg36p")]
position = Vector2(1536, 1216)
collision_mask = 1

[node name="KitchenCounter" parent="Sorted" index="12" instance=ExtResource("11_0wkas")]
position = Vector2(1856, 1152)
collision_mask = 1

[node name="Phone" parent="Sorted" index="13" node_paths=PackedStringArray("interactable") instance=ExtResource("12_lv5b5")]
z_index = 1
position = Vector2(2112, 1600)
collision_mask = 1
interactable = NodePath("Interactable")

[node name="OutlinedSprite" parent="Sorted/Phone" index="0"]
material = SubResource("ShaderMaterial_nddtp")
position = Vector2(0, -128)

[node name="CollisionShape2D" parent="Sorted/Phone" index="1"]
position = Vector2(0, -136)

[node name="Interactable" parent="Sorted/Phone" index="2" instance=ExtResource("10_xo0yv")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Sorted/Phone/Interactable" index="0"]
position = Vector2(-96, 64)
shape = SubResource("RectangleShape2D_b7cf4")

[node name="BoxesInteractable" parent="Sorted" index="14" instance=ExtResource("10_xo0yv")]
position = Vector2(384, 1280)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Sorted/BoxesInteractable" index="0"]
position = Vector2(-96, 0)
shape = SubResource("RectangleShape2D_po82d")

[node name="Box" parent="Sorted" index="15" node_paths=PackedStringArray("interactable") instance=ExtResource("9_nausv")]
position = Vector2(192, 1376)
collision_mask = 1
interactable = NodePath("../BoxesInteractable")

[node name="Box5" parent="Sorted" index="16" node_paths=PackedStringArray("interactable") instance=ExtResource("9_nausv")]
position = Vector2(224, 1376)
collision_mask = 1
interactable = NodePath("../BoxesInteractable")

[node name="OutlinedSprite" parent="Sorted/Box5" index="0"]
material = SubResource("ShaderMaterial_2jlbf")
position = Vector2(-16, -96)

[node name="CollisionShape2D" parent="Sorted/Box5" index="1"]
position = Vector2(-16, -80)

[node name="Label" parent="Sorted/Box5" index="2"]
offset_left = -36.0
offset_top = -112.0
offset_right = 4.0
offset_bottom = -89.0

[node name="Box6" parent="Sorted" index="17" node_paths=PackedStringArray("interactable") instance=ExtResource("9_nausv")]
position = Vector2(384, 1200)
collision_mask = 1
interactable = NodePath("../BoxesInteractable")

[node name="Box8" parent="Sorted" index="18" node_paths=PackedStringArray("interactable") instance=ExtResource("9_nausv")]
position = Vector2(240, 1168)
collision_mask = 1
interactable = NodePath("../BoxesInteractable")

[node name="Box7" parent="Sorted" index="19" node_paths=PackedStringArray("interactable") instance=ExtResource("9_nausv")]
position = Vector2(224, 1312)
collision_mask = 1
interactable = NodePath("../BoxesInteractable")

[node name="Box2" parent="Sorted" index="20" node_paths=PackedStringArray("interactable") instance=ExtResource("9_nausv")]
position = Vector2(288, 1360)
collision_mask = 1
interactable = NodePath("../BoxesInteractable")

[node name="Box3" parent="Sorted" index="21" node_paths=PackedStringArray("interactable") instance=ExtResource("9_nausv")]
position = Vector2(176, 1376)
collision_mask = 1
interactable = NodePath("../BoxesInteractable")

[node name="OutlinedSprite" parent="Sorted/Box3" index="0"]
material = SubResource("ShaderMaterial_xu5b3")
position = Vector2(16, -144)

[node name="CollisionShape2D" parent="Sorted/Box3" index="1"]
position = Vector2(16, -128)

[node name="Label" parent="Sorted/Box3" index="2"]
offset_left = -4.0
offset_top = -160.0
offset_right = 36.0
offset_bottom = -137.0

[node name="Sofa" parent="Sorted" index="22" node_paths=PackedStringArray("interactable") instance=ExtResource("14_1r6fq")]
position = Vector2(768, 1440)
collision_mask = 1
interactable = NodePath("Interactable")

[node name="Interactable" parent="Sorted/Sofa" index="3" instance=ExtResource("10_xo0yv")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Sorted/Sofa/Interactable" index="0"]
position = Vector2(64, -128)
shape = SubResource("RectangleShape2D_uduor")

[node name="Box4" parent="Sorted" index="23" instance=ExtResource("15_dqchd")]
position = Vector2(1216, 1472)
collision_mask = 1

[node name="TV" parent="Sorted" index="24" node_paths=PackedStringArray("interactable") instance=ExtResource("16_pa6bl")]
position = Vector2(1216, 1472)
collision_mask = 1
interactable = NodePath("Interactable")

[node name="OutlinedSprite" parent="Sorted/TV" index="0"]
material = SubResource("ShaderMaterial_gmis7")
position = Vector2(0, -272)

[node name="CollisionShape2D" parent="Sorted/TV" index="1"]
position = Vector2(0, -240)

[node name="Label" parent="Sorted/TV" index="2"]
offset_top = -352.0
offset_bottom = -329.0

[node name="Interactable" parent="Sorted/TV" index="3" instance=ExtResource("10_xo0yv")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Sorted/TV/Interactable" index="0"]
position = Vector2(-96, -171)
shape = SubResource("RectangleShape2D_f1j1d")

[node name="Door" parent="Sorted" index="25" node_paths=PackedStringArray("interactable") instance=ExtResource("18_g5r67")]
position = Vector2(576, 992)
interactable = NodePath("Interactable")

[node name="SceneChanger" parent="Sorted/Door" index="3" node_paths=PackedStringArray("interactable") instance=ExtResource("20_6yk8r")]
scene = "jakub"
interactable = NodePath("../Interactable")

[node name="Interactable" parent="Sorted/Door" index="4" instance=ExtResource("10_xo0yv")]
active = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Sorted/Door/Interactable" index="0"]
position = Vector2(0, 40)
shape = SubResource("RectangleShape2D_pelh6")

[node name="PlayerStartPos" parent="." index="6"]
position = Vector2(576, 1040)

[node name="CutScenes" type="Node2D" parent="." index="7"]

[node name="IntroHouse" parent="CutScenes" index="0" node_paths=PackedStringArray("camera_current", "camera_pos") instance=ExtResource("18_kwm3y")]
position = Vector2(576, 1280)
data = SubResource("Resource_dge5t")
camera_current = NodePath("../../GameCamera")
camera_pos = NodePath("Marker2D")
metadata/_edit_group_ = true

[node name="Marker2D" type="Marker2D" parent="CutScenes/IntroHouse" index="0"]

[editable path="Sorted/Clock"]
[editable path="Sorted/Phone"]
[editable path="Sorted/Box5"]
[editable path="Sorted/Box3"]
[editable path="Sorted/TV"]
