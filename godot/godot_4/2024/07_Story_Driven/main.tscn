[gd_scene load_steps=21 format=3 uid="uid://csdjbfj5l0pus"]

[ext_resource type="TileSet" uid="uid://d4eaidaxglkih" path="res://scenes/tilemap/template.tres" id="1_b3xio"]
[ext_resource type="PackedScene" uid="uid://cd30lwdo4bvuu" path="res://scenes/game_camera/game_camera.tscn" id="1_helwf"]
[ext_resource type="Script" path="res://scenes/level_map/level_map.gd" id="2_2k0ej"]
[ext_resource type="PackedScene" uid="uid://tp3o11x5818f" path="res://scenes/actors/enemy_actor.tscn" id="5_acrwy"]
[ext_resource type="PackedScene" uid="uid://dq3y1i2y72rcs" path="res://scenes/interactables/interactable.tscn" id="5_b83mu"]
[ext_resource type="PackedScene" uid="uid://dkyxyos2d2ygj" path="res://scenes/interactables/interactable_items/conversation.tscn" id="6_k0elb"]
[ext_resource type="Script" path="res://scenes/display_message/message_data/message_data.gd" id="6_l0mi5"]
[ext_resource type="Resource" uid="uid://d2r2vtkxw6j5k" path="res://scenes/display_message/message_data/hero_1.tres" id="6_rvi22"]
[ext_resource type="Resource" uid="uid://c83k31eku71du" path="res://scenes/display_message/message_data/hero_2.tres" id="8_pld8b"]
[ext_resource type="PackedScene" uid="uid://03yy01jl71jn" path="res://scenes/cut_scene/cut_scene.tscn" id="10_i3x8e"]
[ext_resource type="PackedScene" uid="uid://b4qnf5faj7ybi" path="res://scenes/cut_scene/cut_scene_starter_area/cut_scene_starter_area.tscn" id="11_l2br1"]
[ext_resource type="Script" path="res://scenes/cut_scene/cut_scene_data/cut_scene_data.gd" id="12_7hgj2"]
[ext_resource type="Script" path="res://scenes/cut_scene/steps/step_party_anim.gd" id="13_8dnvl"]

[sub_resource type="Resource" id="Resource_kphwp"]
script = ExtResource("6_l0mi5")
profile = ExtResource("6_rvi22")
speed_ratio = 1.0
text = "[shake rate=30.0 level=50 connected=1]I'm very angry[/shake]"

[sub_resource type="Resource" id="Resource_dqcok"]
script = ExtResource("6_l0mi5")
speed_ratio = 1.0
text = "Another text"

[sub_resource type="Resource" id="Resource_5t6pf"]
script = ExtResource("6_l0mi5")
profile = ExtResource("8_pld8b")
speed_ratio = 1.0
text = "Super final text"

[sub_resource type="CircleShape2D" id="CircleShape2D_7uk25"]
radius = 57.0088

[sub_resource type="RectangleShape2D" id="RectangleShape2D_to7yp"]
size = Vector2(768, 512)

[sub_resource type="Resource" id="Resource_c82wg"]
script = ExtResource("13_8dnvl")
direction = Vector2(2.08165e-12, -1)
anim = "idle"

[sub_resource type="Resource" id="Resource_usofd"]
script = ExtResource("12_7hgj2")
steps = Array[Resource("res://scenes/cut_scene/steps/step_base.gd")]([SubResource("Resource_c82wg"), null, null, null, null])

[node name="Main" type="Node2D"]

[node name="GameCamera" parent="." node_paths=PackedStringArray("top_left", "bottom_right") instance=ExtResource("1_helwf")]
top_left = NodePath("../LevelMap/MapLimits/TopLeft")
bottom_right = NodePath("../LevelMap/MapLimits/BottomRight")

[node name="LevelMap" type="Node2D" parent="." node_paths=PackedStringArray("sorted", "pos", "game_camera")]
script = ExtResource("2_2k0ej")
sorted = NodePath("../Sorted")
pos = NodePath("PlayerPos")
game_camera = NodePath("../GameCamera")

[node name="BackgroundColor" type="CanvasLayer" parent="LevelMap"]
layer = -10

[node name="ColorRect" type="ColorRect" parent="LevelMap/BackgroundColor"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="MapLimits" type="Node2D" parent="LevelMap"]

[node name="TopLeft" type="Marker2D" parent="LevelMap/MapLimits"]
position = Vector2(-64, -320)

[node name="BottomRight" type="Marker2D" parent="LevelMap/MapLimits"]
position = Vector2(1984, 2368)

[node name="TileMap" type="TileMap" parent="LevelMap"]
scale = Vector2(4, 4)
tile_set = ExtResource("1_b3xio")
format = 2
layer_0/tile_data = PackedInt32Array(131076, 65536, 1, 131078, 65536, 1, 131077, 65536, 1, 131079, 65536, 1, 0, 0, 1, 65536, 0, 1, 131072, 0, 1, 196608, 0, 1, 196610, 65536, 1, 196614, 65536, 1, 196616, 65536, 1, 196618, 65536, 1, 196619, 65536, 1, 196620, 65536, 1, 196621, 65536, 1, 131086, 131072, 1, 65550, 131072, 1, 14, 131072, 1, 13, 65536, 1, 131085, 65536, 1, 131084, 65536, 1, 131075, 65536, 1, 196611, 65536, 1, 262149, 65536, 1, 262148, 65536, 1, 262150, 65536, 1, 262152, 65536, 1, 262151, 65536, 1, 196615, 65536, 1, 131080, 65536, 1, 131081, 65536, 1, 131082, 65536, 1, 131083, 65536, 1, 196622, 131072, 1, 262153, 65536, 1, 262154, 65536, 1, 262155, 65536, 1, 262156, 65536, 1, 327692, 65536, 1, 327691, 65536, 1, 327690, 65536, 1, 327689, 65536, 1, 327688, 65536, 1, 327687, 65536, 1, 327686, 65536, 1, 327685, 65536, 1, 327684, 65536, 1, 196617, 65536, 1, 196613, 65536, 1, 196612, 65536, 1, 131074, 65536, 1, 131073, 65536, 1, 196609, 65536, 1, 65537, 65536, 1, 262145, 65536, 1, 327681, 65536, 1, 393217, 65536, 1, 458753, 65536, 1, 524289, 65536, 2, 262144, 0, 1, 327680, 0, 1, 393216, 0, 1, 458754, 65536, 1, 524290, 65536, 2, 393218, 65536, 1, 327682, 65536, 1, 262146, 65536, 1, 262147, 65536, 1, 327683, 65536, 1, 393219, 65536, 1, 393220, 65536, 1, 393221, 65536, 1, 458757, 65536, 1, 458756, 65536, 1, 458755, 65536, 1, 524291, 65536, 2, 524292, 65536, 2, 524293, 65536, 2, 524294, 65536, 2, 524295, 65536, 2, 458758, 65536, 1, 458759, 65536, 1, 393223, 65536, 1, 393222, 65536, 1, 458760, 65536, 1, 524296, 65536, 2, 458761, 65536, 1, 524297, 65536, 2, 393224, 65536, 1, 393225, 65536, 1, 393226, 65536, 1, 393227, 65536, 1, 393228, 65536, 1, 458763, 65536, 1, 458762, 65536, 1, 524298, 65536, 2, 524299, 65536, 2, 458764, 65536, 1, 524300, 65536, 2, 262157, 65536, 1, 327693, 65536, 1, 393229, 65536, 1, 458765, 65536, 1, 524301, 65536, 2, 262158, 131072, 1, 327694, 131072, 1, 393230, 131072, 1, 458766, 131072, 1, 65538, 65536, 1, 65539, 65536, 1, 65542, 65536, 1, 65544, 65536, 1, 65545, 65536, 1, 65546, 65536, 1, 65547, 65536, 1, 65548, 65536, 1, 65549, 65536, 1, 12, 65536, 1, 11, 65536, 1, 10, 65536, 1, 9, 65536, 1, 8, 65536, 1, 6, 65536, 1, 3, 65536, 1, 2, 65536, 1, 1, 65536, 1, -65535, 65536, 0, -65534, 65536, 0, -65533, 65536, 0, -65532, 65536, 0, -65531, 65536, 0, -65530, 65536, 0, -65528, 65536, 0, -65527, 65536, 0, -65526, 65536, 0, -65525, 65536, 0, -65524, 65536, 0, -65523, 65536, 0, -65522, 131072, 0, -65536, 0, 0, 4, 65536, 1, 5, 65536, 1, 65541, 65536, 1, 7, 196608, 1, 65540, 65536, 1, 65543, 196608, 2, -65529, 262144, 3, 458752, 0, 1, 524288, 0, 2, 524302, 131072, 2)

[node name="PlayerPos" type="Marker2D" parent="LevelMap"]
position = Vector2(320, 192)

[node name="Sorted" type="Node2D" parent="."]
y_sort_enabled = true

[node name="EnemyActor" parent="Sorted" instance=ExtResource("5_acrwy")]
position = Vector2(521, 167)

[node name="Conversation" parent="Sorted/EnemyActor" node_paths=PackedStringArray("interactable") instance=ExtResource("6_k0elb")]
interactable = NodePath("../Interactable")
message_list = Array[ExtResource("6_l0mi5")]([SubResource("Resource_kphwp"), SubResource("Resource_dqcok"), SubResource("Resource_5t6pf")])

[node name="Interactable" parent="Sorted/EnemyActor" instance=ExtResource("5_b83mu")]
position = Vector2(0, -32)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Sorted/EnemyActor/Interactable"]
shape = SubResource("CircleShape2D_7uk25")

[node name="EnemyActor2" parent="Sorted" instance=ExtResource("5_acrwy")]
position = Vector2(1237, 144)

[node name="CutSceneStarterArea" parent="Sorted" node_paths=PackedStringArray("cut_scene") instance=ExtResource("11_l2br1")]
position = Vector2(1408, 256)
cut_scene = NodePath("../../CutScene")
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Sorted/CutSceneStarterArea"]
shape = SubResource("RectangleShape2D_to7yp")

[node name="CutScene" parent="." node_paths=PackedStringArray("scene_actors", "initial_position", "camera_current", "camera_pos") instance=ExtResource("10_i3x8e")]
position = Vector2(2, 0)
data = SubResource("Resource_usofd")
scene_actors = [NodePath("../Sorted/EnemyActor2")]
initial_position = [NodePath("Marker2D"), NodePath("Marker2D2"), NodePath("Marker2D3")]
camera_current = NodePath("../GameCamera")
camera_pos = NodePath("CameraPos")

[node name="CameraPos" type="Marker2D" parent="CutScene"]
position = Vector2(1373, 294)

[node name="Marker2D" type="Marker2D" parent="CutScene"]
position = Vector2(1685, 484)

[node name="Marker2D2" type="Marker2D" parent="CutScene"]
position = Vector2(1444, 521)

[node name="Marker2D3" type="Marker2D" parent="CutScene"]
position = Vector2(1193, 530)
