[gd_scene load_steps=13 format=3 uid="uid://d1o47sm6ckoeg"]

[ext_resource type="Script" path="res://entities/player/player.gd" id="1_sbvtd"]
[ext_resource type="Script" path="res://entities/player/player_stats.gd" id="2_g4pfc"]
[ext_resource type="Script" path="res://entities/player/player_input.gd" id="3_0tev6"]
[ext_resource type="Resource" uid="uid://dx1fwa34j4jna" path="res://entities/player/player_health.tres" id="3_8rgjx"]
[ext_resource type="PackedScene" uid="uid://dbjrbaxgarqo7" path="res://imported_models/character_human/character_human.tscn" id="3_16mb0"]
[ext_resource type="PackedScene" uid="uid://by52ltovoyc4s" path="res://entities/equipments/test_weapon.tscn" id="3_p7tol"]
[ext_resource type="PackedScene" uid="uid://cos3ybvqe8ts7" path="res://entities/state_manager/state_manager.tscn" id="5_hf7pt"]
[ext_resource type="PackedScene" uid="uid://bouf4v4ksctph" path="res://entities/boxes/hurt_box.tscn" id="6_1kvce"]
[ext_resource type="Script" path="res://entities/player/states/player_idle.gd" id="6_ggb6s"]
[ext_resource type="Script" path="res://entities/player/states/player_move.gd" id="7_qhf8x"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_je5ul"]
height = 1.8

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_aj6yn"]
radius = 0.4
height = 1.8

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("anim_player")]
collision_mask = 4
script = ExtResource("1_sbvtd")
anim_player = NodePath("Model/character-human/AnimationPlayer")

[node name="Model" type="Node3D" parent="."]

[node name="character-human" parent="Model" instance=ExtResource("3_16mb0")]
transform = Transform3D(-2.6, 9.06846e-16, -2.27299e-07, 9.06846e-16, 2.6, -9.06846e-16, 2.27299e-07, -9.06846e-16, -2.6, 0, 0, 0)

[node name="arm-left" parent="Model/character-human/character-human2/body" index="0"]
transform = Transform3D(0.707107, 1.28028e-08, -0.707107, 0.707107, -3.09086e-08, 0.707107, -1.28028e-08, -1, -3.09086e-08, -0.1, 0.15, 2.08165e-12)

[node name="RemoteTransform3D" parent="Model/character-human/character-human2/body/arm-left/holder_left2" index="0"]
remote_path = NodePath("../../../../../../../Weapons/Left")

[node name="arm-right" parent="Model/character-human/character-human2/body" index="1"]
transform = Transform3D(0.707107, -1.28028e-08, 0.707107, -0.707107, -3.09086e-08, 0.707107, 1.28028e-08, -1, -3.09086e-08, 0.1, 0.15, 2.08165e-12)

[node name="RemoteTransform3D2" parent="Model/character-human/character-human2/body/arm-right/holder_left" index="0"]
remote_path = NodePath("../../../../../../../Weapons/Right")

[node name="leg-left" parent="Model/character-human/character-human2/body" index="2"]
transform = Transform3D(1, 0, 0, 0, 0.499998, 0.866026, 0, -0.866026, 0.499998, -0.083571, 0, -2.88765e-15)

[node name="leg-right" parent="Model/character-human/character-human2/body" index="3"]
transform = Transform3D(1, -4.67281e-17, 1.74393e-16, 1.74393e-16, 0.499998, -0.866026, -4.67282e-17, 0.866026, 0.499998, 0.083571, 0, 2.14172e-09)

[node name="Weapons" type="Node3D" parent="."]

[node name="Left" type="Node3D" parent="Weapons"]
transform = Transform3D(-0.707107, 4.45893e-08, -0.707107, -0.707106, -3.09086e-08, 0.707107, 9.67369e-09, 1, 5.33851e-08, 0.572, 0.30225, -5.00112e-08)

[node name="TestWeapon" parent="Weapons/Left" instance=ExtResource("3_p7tol")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="Right" type="Node3D" parent="Weapons"]
transform = Transform3D(-0.707107, 4.45893e-08, -0.707107, -0.707107, -3.09086e-08, 0.707107, 9.67369e-09, 1, 5.33851e-08, 0.572, 0.30225, -5.00112e-08)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("CylinderShape3D_je5ul")

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="."]
update_rotation = false
update_scale = false

[node name="HurtBox" parent="." node_paths=PackedStringArray("override_number_position") instance=ExtResource("6_1kvce")]
collision_mask = 10
override_number_position = NodePath("Marker3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="HurtBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("CapsuleShape3D_aj6yn")

[node name="Marker3D" type="Marker3D" parent="HurtBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.2, 0)

[node name="PlayerStats" type="Node" parent="."]
script = ExtResource("2_g4pfc")
health = ExtResource("3_8rgjx")

[node name="PlayerInput" type="Node" parent="."]
script = ExtResource("3_0tev6")

[node name="StateManager" parent="." node_paths=PackedStringArray("initial_state") instance=ExtResource("5_hf7pt")]
initial_state = NodePath("Idle")

[node name="Idle" type="Node" parent="StateManager" node_paths=PackedStringArray("player")]
script = ExtResource("6_ggb6s")
player = NodePath("../..")

[node name="Move" type="Node" parent="StateManager" node_paths=PackedStringArray("player")]
script = ExtResource("7_qhf8x")
player = NodePath("../..")

[editable path="Model/character-human"]
